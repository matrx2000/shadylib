implement realpass~ in c
figure out garray + switch~ redrawing mystery?